{"ast":null,"code":"/**\r\n * Error Handler Utility for Pesca Pro\r\n * Provides user-friendly error messages for different error scenarios\r\n */\n\n// Map of error codes/messages to user-friendly messages\nconst errorMessages = {\n  // Authentication errors\n  'Invalid credentials': 'Wrong email/mobile number or password. Please try again.',\n  'Invalid email or password': 'Wrong email or password. Please check and try again.',\n  'Invalid mobile or password': 'Wrong mobile number or password. Please check and try again.',\n  'User not found': 'No account found with this mobile number.',\n  'Organizer not found': 'No organizer account found with this email.',\n  'Email or mobile number already registered': 'This email or mobile number is already in use.',\n  'Mobile number already registered': 'This mobile number is already registered.',\n  'Token expired': 'Your session has expired. Please login again.',\n  'Invalid token': 'Your session is invalid. Please login again.',\n  'Authentication required': 'Please login to continue.',\n  // Validation errors\n  'Password must be at least 6 characters': 'Password is too short. Use at least 6 characters.',\n  'Valid email is required': 'Please enter a valid email address.',\n  'Mobile number is required': 'Please enter your mobile number.',\n  'Full name is required': 'Please enter your full name.',\n  // Tournament errors\n  'Tournament not found': 'Tournament not found or has been deleted.',\n  'Tournament not found or not active': 'This tournament is not available for registration.',\n  'Tournament not found or unauthorized': 'You don\\'t have permission to access this tournament.',\n  // Registration errors\n  'You have already registered for this tournament': 'You\\'ve already registered for this tournament.',\n  'Some selected areas are no longer available': 'Some areas have been taken. Please select different areas.',\n  'Registration not found': 'Registration not found.',\n  'Registration not found, not confirmed, or unauthorized': 'Your registration needs to be confirmed first.',\n  // Catch errors\n  'Catch image is required': 'Please upload a photo of your catch.',\n  'Tournament is not currently active': 'The tournament is not active. You cannot upload catches now.',\n  // Network errors\n  'Network Error': 'Unable to connect to server. Please check your internet connection.',\n  'timeout': 'Request timed out. Please try again.',\n  // Server errors\n  'Server error': 'Something went wrong on our end. Please try again later.',\n  'Internal server error': 'Something went wrong. Please try again later.'\n};\n\n/**\r\n * Get user-friendly error message\r\n * @param {Error} error - The error object from axios\r\n * @returns {string} User-friendly error message\r\n */\nexport const getErrorMessage = error => {\n  var _error$response, _error$response$data, _error$response2, _error$response2$data, _error$response3;\n  // Network error (no response)\n  if (!error.response) {\n    if (error.message === 'Network Error') {\n      return errorMessages['Network Error'];\n    }\n    if (error.code === 'ECONNABORTED') {\n      return errorMessages['timeout'];\n    }\n    return 'Connection error. Please check your internet and try again.';\n  }\n\n  // Get the error message from response\n  const responseMessage = (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message;\n  const responseErrors = (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.errors;\n\n  // Handle validation errors array\n  if (responseErrors && Array.isArray(responseErrors)) {\n    const firstError = responseErrors[0];\n    if (firstError !== null && firstError !== void 0 && firstError.msg) {\n      return errorMessages[firstError.msg] || firstError.msg;\n    }\n  }\n\n  // Check if we have a mapped message\n  if (responseMessage && errorMessages[responseMessage]) {\n    return errorMessages[responseMessage];\n  }\n\n  // Handle specific HTTP status codes\n  const status = (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status;\n  switch (status) {\n    case 400:\n      return responseMessage || 'Invalid request. Please check your input.';\n    case 401:\n      return responseMessage || 'Invalid credentials. Please try again.';\n    case 403:\n      return 'You don\\'t have permission to perform this action.';\n    case 404:\n      return responseMessage || 'The requested resource was not found.';\n    case 409:\n      return responseMessage || 'This action conflicts with existing data.';\n    case 413:\n      return 'File is too large. Maximum size is 10MB.';\n    case 422:\n      return responseMessage || 'Invalid data. Please check your input.';\n    case 429:\n      return 'Too many requests. Please wait a moment and try again.';\n    case 500:\n    case 502:\n    case 503:\n      return 'Server error. Please try again later.';\n    default:\n      return responseMessage || 'Something went wrong. Please try again.';\n  }\n};\n\n/**\r\n * Get error type for styling purposes\r\n * @param {Error} error - The error object\r\n * @returns {string} Error type: 'auth', 'validation', 'network', 'server'\r\n */\nexport const getErrorType = error => {\n  var _error$response4;\n  if (!error.response) {\n    return 'network';\n  }\n  const status = (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status;\n  if (status === 401 || status === 403) {\n    return 'auth';\n  }\n  if (status === 400 || status === 422) {\n    return 'validation';\n  }\n  if (status >= 500) {\n    return 'server';\n  }\n  return 'general';\n};\nexport default {\n  getErrorMessage,\n  getErrorType\n};","map":{"version":3,"names":["errorMessages","getErrorMessage","error","_error$response","_error$response$data","_error$response2","_error$response2$data","_error$response3","response","message","code","responseMessage","data","responseErrors","errors","Array","isArray","firstError","msg","status","getErrorType","_error$response4"],"sources":["C:/Users/User/OneDrive/Desktop/Pesca Pro/frontend/src/utils/errorHandler.js"],"sourcesContent":["/**\r\n * Error Handler Utility for Pesca Pro\r\n * Provides user-friendly error messages for different error scenarios\r\n */\r\n\r\n// Map of error codes/messages to user-friendly messages\r\nconst errorMessages = {\r\n  // Authentication errors\r\n  'Invalid credentials': 'Wrong email/mobile number or password. Please try again.',\r\n  'Invalid email or password': 'Wrong email or password. Please check and try again.',\r\n  'Invalid mobile or password': 'Wrong mobile number or password. Please check and try again.',\r\n  'User not found': 'No account found with this mobile number.',\r\n  'Organizer not found': 'No organizer account found with this email.',\r\n  'Email or mobile number already registered': 'This email or mobile number is already in use.',\r\n  'Mobile number already registered': 'This mobile number is already registered.',\r\n  'Token expired': 'Your session has expired. Please login again.',\r\n  'Invalid token': 'Your session is invalid. Please login again.',\r\n  'Authentication required': 'Please login to continue.',\r\n  \r\n  // Validation errors\r\n  'Password must be at least 6 characters': 'Password is too short. Use at least 6 characters.',\r\n  'Valid email is required': 'Please enter a valid email address.',\r\n  'Mobile number is required': 'Please enter your mobile number.',\r\n  'Full name is required': 'Please enter your full name.',\r\n  \r\n  // Tournament errors\r\n  'Tournament not found': 'Tournament not found or has been deleted.',\r\n  'Tournament not found or not active': 'This tournament is not available for registration.',\r\n  'Tournament not found or unauthorized': 'You don\\'t have permission to access this tournament.',\r\n  \r\n  // Registration errors\r\n  'You have already registered for this tournament': 'You\\'ve already registered for this tournament.',\r\n  'Some selected areas are no longer available': 'Some areas have been taken. Please select different areas.',\r\n  'Registration not found': 'Registration not found.',\r\n  'Registration not found, not confirmed, or unauthorized': 'Your registration needs to be confirmed first.',\r\n  \r\n  // Catch errors\r\n  'Catch image is required': 'Please upload a photo of your catch.',\r\n  'Tournament is not currently active': 'The tournament is not active. You cannot upload catches now.',\r\n  \r\n  // Network errors\r\n  'Network Error': 'Unable to connect to server. Please check your internet connection.',\r\n  'timeout': 'Request timed out. Please try again.',\r\n  \r\n  // Server errors\r\n  'Server error': 'Something went wrong on our end. Please try again later.',\r\n  'Internal server error': 'Something went wrong. Please try again later.',\r\n};\r\n\r\n/**\r\n * Get user-friendly error message\r\n * @param {Error} error - The error object from axios\r\n * @returns {string} User-friendly error message\r\n */\r\nexport const getErrorMessage = (error) => {\r\n  // Network error (no response)\r\n  if (!error.response) {\r\n    if (error.message === 'Network Error') {\r\n      return errorMessages['Network Error'];\r\n    }\r\n    if (error.code === 'ECONNABORTED') {\r\n      return errorMessages['timeout'];\r\n    }\r\n    return 'Connection error. Please check your internet and try again.';\r\n  }\r\n\r\n  // Get the error message from response\r\n  const responseMessage = error.response?.data?.message;\r\n  const responseErrors = error.response?.data?.errors;\r\n  \r\n  // Handle validation errors array\r\n  if (responseErrors && Array.isArray(responseErrors)) {\r\n    const firstError = responseErrors[0];\r\n    if (firstError?.msg) {\r\n      return errorMessages[firstError.msg] || firstError.msg;\r\n    }\r\n  }\r\n  \r\n  // Check if we have a mapped message\r\n  if (responseMessage && errorMessages[responseMessage]) {\r\n    return errorMessages[responseMessage];\r\n  }\r\n  \r\n  // Handle specific HTTP status codes\r\n  const status = error.response?.status;\r\n  switch (status) {\r\n    case 400:\r\n      return responseMessage || 'Invalid request. Please check your input.';\r\n    case 401:\r\n      return responseMessage || 'Invalid credentials. Please try again.';\r\n    case 403:\r\n      return 'You don\\'t have permission to perform this action.';\r\n    case 404:\r\n      return responseMessage || 'The requested resource was not found.';\r\n    case 409:\r\n      return responseMessage || 'This action conflicts with existing data.';\r\n    case 413:\r\n      return 'File is too large. Maximum size is 10MB.';\r\n    case 422:\r\n      return responseMessage || 'Invalid data. Please check your input.';\r\n    case 429:\r\n      return 'Too many requests. Please wait a moment and try again.';\r\n    case 500:\r\n    case 502:\r\n    case 503:\r\n      return 'Server error. Please try again later.';\r\n    default:\r\n      return responseMessage || 'Something went wrong. Please try again.';\r\n  }\r\n};\r\n\r\n/**\r\n * Get error type for styling purposes\r\n * @param {Error} error - The error object\r\n * @returns {string} Error type: 'auth', 'validation', 'network', 'server'\r\n */\r\nexport const getErrorType = (error) => {\r\n  if (!error.response) {\r\n    return 'network';\r\n  }\r\n  \r\n  const status = error.response?.status;\r\n  if (status === 401 || status === 403) {\r\n    return 'auth';\r\n  }\r\n  if (status === 400 || status === 422) {\r\n    return 'validation';\r\n  }\r\n  if (status >= 500) {\r\n    return 'server';\r\n  }\r\n  return 'general';\r\n};\r\n\r\nexport default { getErrorMessage, getErrorType };\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA,MAAMA,aAAa,GAAG;EACpB;EACA,qBAAqB,EAAE,0DAA0D;EACjF,2BAA2B,EAAE,sDAAsD;EACnF,4BAA4B,EAAE,8DAA8D;EAC5F,gBAAgB,EAAE,2CAA2C;EAC7D,qBAAqB,EAAE,6CAA6C;EACpE,2CAA2C,EAAE,gDAAgD;EAC7F,kCAAkC,EAAE,2CAA2C;EAC/E,eAAe,EAAE,+CAA+C;EAChE,eAAe,EAAE,8CAA8C;EAC/D,yBAAyB,EAAE,2BAA2B;EAEtD;EACA,wCAAwC,EAAE,mDAAmD;EAC7F,yBAAyB,EAAE,qCAAqC;EAChE,2BAA2B,EAAE,kCAAkC;EAC/D,uBAAuB,EAAE,8BAA8B;EAEvD;EACA,sBAAsB,EAAE,2CAA2C;EACnE,oCAAoC,EAAE,oDAAoD;EAC1F,sCAAsC,EAAE,uDAAuD;EAE/F;EACA,iDAAiD,EAAE,iDAAiD;EACpG,6CAA6C,EAAE,4DAA4D;EAC3G,wBAAwB,EAAE,yBAAyB;EACnD,wDAAwD,EAAE,gDAAgD;EAE1G;EACA,yBAAyB,EAAE,sCAAsC;EACjE,oCAAoC,EAAE,8DAA8D;EAEpG;EACA,eAAe,EAAE,qEAAqE;EACtF,SAAS,EAAE,sCAAsC;EAEjD;EACA,cAAc,EAAE,0DAA0D;EAC1E,uBAAuB,EAAE;AAC3B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,eAAe,GAAIC,KAAK,IAAK;EAAA,IAAAC,eAAA,EAAAC,oBAAA,EAAAC,gBAAA,EAAAC,qBAAA,EAAAC,gBAAA;EACxC;EACA,IAAI,CAACL,KAAK,CAACM,QAAQ,EAAE;IACnB,IAAIN,KAAK,CAACO,OAAO,KAAK,eAAe,EAAE;MACrC,OAAOT,aAAa,CAAC,eAAe,CAAC;IACvC;IACA,IAAIE,KAAK,CAACQ,IAAI,KAAK,cAAc,EAAE;MACjC,OAAOV,aAAa,CAAC,SAAS,CAAC;IACjC;IACA,OAAO,6DAA6D;EACtE;;EAEA;EACA,MAAMW,eAAe,IAAAR,eAAA,GAAGD,KAAK,CAACM,QAAQ,cAAAL,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBS,IAAI,cAAAR,oBAAA,uBAApBA,oBAAA,CAAsBK,OAAO;EACrD,MAAMI,cAAc,IAAAR,gBAAA,GAAGH,KAAK,CAACM,QAAQ,cAAAH,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBO,IAAI,cAAAN,qBAAA,uBAApBA,qBAAA,CAAsBQ,MAAM;;EAEnD;EACA,IAAID,cAAc,IAAIE,KAAK,CAACC,OAAO,CAACH,cAAc,CAAC,EAAE;IACnD,MAAMI,UAAU,GAAGJ,cAAc,CAAC,CAAC,CAAC;IACpC,IAAII,UAAU,aAAVA,UAAU,eAAVA,UAAU,CAAEC,GAAG,EAAE;MACnB,OAAOlB,aAAa,CAACiB,UAAU,CAACC,GAAG,CAAC,IAAID,UAAU,CAACC,GAAG;IACxD;EACF;;EAEA;EACA,IAAIP,eAAe,IAAIX,aAAa,CAACW,eAAe,CAAC,EAAE;IACrD,OAAOX,aAAa,CAACW,eAAe,CAAC;EACvC;;EAEA;EACA,MAAMQ,MAAM,IAAAZ,gBAAA,GAAGL,KAAK,CAACM,QAAQ,cAAAD,gBAAA,uBAAdA,gBAAA,CAAgBY,MAAM;EACrC,QAAQA,MAAM;IACZ,KAAK,GAAG;MACN,OAAOR,eAAe,IAAI,2CAA2C;IACvE,KAAK,GAAG;MACN,OAAOA,eAAe,IAAI,wCAAwC;IACpE,KAAK,GAAG;MACN,OAAO,oDAAoD;IAC7D,KAAK,GAAG;MACN,OAAOA,eAAe,IAAI,uCAAuC;IACnE,KAAK,GAAG;MACN,OAAOA,eAAe,IAAI,2CAA2C;IACvE,KAAK,GAAG;MACN,OAAO,0CAA0C;IACnD,KAAK,GAAG;MACN,OAAOA,eAAe,IAAI,wCAAwC;IACpE,KAAK,GAAG;MACN,OAAO,wDAAwD;IACjE,KAAK,GAAG;IACR,KAAK,GAAG;IACR,KAAK,GAAG;MACN,OAAO,uCAAuC;IAChD;MACE,OAAOA,eAAe,IAAI,yCAAyC;EACvE;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMS,YAAY,GAAIlB,KAAK,IAAK;EAAA,IAAAmB,gBAAA;EACrC,IAAI,CAACnB,KAAK,CAACM,QAAQ,EAAE;IACnB,OAAO,SAAS;EAClB;EAEA,MAAMW,MAAM,IAAAE,gBAAA,GAAGnB,KAAK,CAACM,QAAQ,cAAAa,gBAAA,uBAAdA,gBAAA,CAAgBF,MAAM;EACrC,IAAIA,MAAM,KAAK,GAAG,IAAIA,MAAM,KAAK,GAAG,EAAE;IACpC,OAAO,MAAM;EACf;EACA,IAAIA,MAAM,KAAK,GAAG,IAAIA,MAAM,KAAK,GAAG,EAAE;IACpC,OAAO,YAAY;EACrB;EACA,IAAIA,MAAM,IAAI,GAAG,EAAE;IACjB,OAAO,QAAQ;EACjB;EACA,OAAO,SAAS;AAClB,CAAC;AAED,eAAe;EAAElB,eAAe;EAAEmB;AAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}